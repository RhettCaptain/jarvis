<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Jarvis</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.16/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/lodash@4.13.1/lodash.min.js"></script>
</head>

<body>
<div  id="bookmark-container">
    <h2 style="text-align: center">Jarvis For Rhett</h2>
    <div class="col-xs-8 col-xs-offset-2" style="margin-bottom: 10px">
        <input type="text" class="form-control input-group" id="bookmark-input" placeholder="search bookmark" v-model="searchkey" @input="getBookmarks" />
    </div>
    <div id="bookmark-content">
        <div v-for="bookmark in bookmarks" class="panel panel-default col-xs-6 col-sm-3">
            <div class="panel-heading"><a :href="bookmark.href">{{bookmark.title}}</a></div>
            <div class="panel-body"><span v-for="tag in bookmark.tags">{{tag}};</span></div>
        </div>
    </div>
</div>

</body>
<script>
  var vueInit = new Vue({
    el: '#bookmark-container',
    data: {
      searchkey: "",
      bookmarks: []
    },
    created() {
      this.getBookmarks();
    },
    methods: {
      getBookmarks: _.debounce(function () {
        var searchkey = this.searchkey;
        axios.post('/bookmark/getbookmarks', {keywords:searchkey})
          .then(response => {
          this.bookmarks = response.data;
        }).catch(function (error) {
          console.log(error);
        });
      },300)
    }
  })

</script>
</html>